{"ast":null,"code":"var _jsxFileName = \"/home/thiagoriva/Documents/Projects/daily-report/src/components/ManagementScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { ArrowLeft, Calendar, MapPin, User, Filter, Download, Printer, Copy, BarChart3 } from 'lucide-react';\nimport { useData } from '../context/DataContext';\nimport { generateConsolidatedTechnicalStatusWhatsApp } from '../utils/whatsappGenerator';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManagementScreen = ({\n  onBack\n}) => {\n  _s();\n  const {\n    data\n  } = useData();\n  const [filters, setFilters] = useState({\n    dataInicio: '',\n    dataFim: '',\n    clusterId: '',\n    usinaId: '',\n    tecnicoId: ''\n  });\n  const [viewMode, setViewMode] = useState('table'); // 'table' ou 'grouped'\n  const [activeTab, setActiveTab] = useState('atividades'); // 'atividades' ou 'status'\n\n  // Filtrar dados baseado nos filtros\n  const filteredData = useMemo(() => {\n    let filtered = activeTab === 'atividades' ? data.atividades : data.statusTecnico;\n    if (filters.dataInicio) {\n      filtered = filtered.filter(item => item.data >= filters.dataInicio);\n    }\n    if (filters.dataFim) {\n      filtered = filtered.filter(item => item.data <= filters.dataFim);\n    }\n    if (filters.clusterId) {\n      filtered = filtered.filter(item => item.clusterId === filters.clusterId);\n    }\n    if (filters.usinaId) {\n      filtered = filtered.filter(item => item.usinaId === filters.usinaId);\n    }\n    if (filters.tecnicoId) {\n      filtered = filtered.filter(item => item.tecnicoId === filters.tecnicoId);\n    }\n    return filtered;\n  }, [data, filters, activeTab]);\n\n  // Agrupar dados por cluster\n  const groupedData = useMemo(() => {\n    const grouped = {};\n    filteredData.forEach(item => {\n      const cluster = data.clusters.find(c => c.id === item.clusterId);\n      const usina = data.usinas.find(u => u.id === item.usinaId);\n      const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId);\n      const clusterName = (cluster === null || cluster === void 0 ? void 0 : cluster.nome) || 'Cluster Desconhecido';\n      if (!grouped[clusterName]) {\n        grouped[clusterName] = {};\n      }\n      const usinaName = (usina === null || usina === void 0 ? void 0 : usina.nome) || 'Usina Desconhecida';\n      if (!grouped[clusterName][usinaName]) {\n        grouped[clusterName][usinaName] = [];\n      }\n      grouped[clusterName][usinaName].push({\n        ...item,\n        clusterName,\n        usinaName,\n        tecnicoName: (tecnico === null || tecnico === void 0 ? void 0 : tecnico.nome) || 'TÃ©cnico Desconhecido'\n      });\n    });\n    return grouped;\n  }, [filteredData, data]);\n\n  // Exportar CSV\n  const exportCSV = () => {\n    if (filteredData.length === 0) {\n      alert('Nenhum dado para exportar');\n      return;\n    }\n    let csvContent = '';\n    if (activeTab === 'atividades') {\n      csvContent = 'Data,Cluster,Usina,TÃ©cnico,Tarefa,InÃ­cio,Fim,ObservaÃ§Ãµes\\n';\n      filteredData.forEach(item => {\n        var _data$clusters$find, _data$usinas$find, _data$tecnicos$find;\n        const cluster = ((_data$clusters$find = data.clusters.find(c => c.id === item.clusterId)) === null || _data$clusters$find === void 0 ? void 0 : _data$clusters$find.nome) || '';\n        const usina = ((_data$usinas$find = data.usinas.find(u => u.id === item.usinaId)) === null || _data$usinas$find === void 0 ? void 0 : _data$usinas$find.nome) || '';\n        const tecnico = ((_data$tecnicos$find = data.tecnicos.find(t => t.id === item.tecnicoId)) === null || _data$tecnicos$find === void 0 ? void 0 : _data$tecnicos$find.nome) || '';\n        csvContent += `${item.data},${cluster},${usina},${tecnico},\"${item.tarefa}\",${item.inicio},${item.fim},\"${item.observacoes || ''}\"\\n`;\n      });\n    } else {\n      csvContent = 'Data,Cluster,Usina,TÃ©cnico,Inversores,Strings,Trackers,ObservaÃ§Ãµes\\n';\n      filteredData.forEach(item => {\n        var _data$clusters$find2, _data$usinas$find2, _data$tecnicos$find2, _item$inversores, _item$inversores2, _item$strings, _item$strings2, _item$trackers, _item$trackers2;\n        const cluster = ((_data$clusters$find2 = data.clusters.find(c => c.id === item.clusterId)) === null || _data$clusters$find2 === void 0 ? void 0 : _data$clusters$find2.nome) || '';\n        const usina = ((_data$usinas$find2 = data.usinas.find(u => u.id === item.usinaId)) === null || _data$usinas$find2 === void 0 ? void 0 : _data$usinas$find2.nome) || '';\n        const tecnico = ((_data$tecnicos$find2 = data.tecnicos.find(t => t.id === item.tecnicoId)) === null || _data$tecnicos$find2 === void 0 ? void 0 : _data$tecnicos$find2.nome) || '';\n        const inversoresStatus = (_item$inversores = item.inversores) !== null && _item$inversores !== void 0 && _item$inversores.ok100 ? '100%' : `Problema: ${(_item$inversores2 = item.inversores) === null || _item$inversores2 === void 0 ? void 0 : _item$inversores2.motivo}`;\n        const stringsStatus = (_item$strings = item.strings) !== null && _item$strings !== void 0 && _item$strings.ok100 ? '100%' : `Problema: ${(_item$strings2 = item.strings) === null || _item$strings2 === void 0 ? void 0 : _item$strings2.motivo}`;\n        const trackersStatus = (_item$trackers = item.trackers) !== null && _item$trackers !== void 0 && _item$trackers.ok100 ? '100%' : `Problema: ${(_item$trackers2 = item.trackers) === null || _item$trackers2 === void 0 ? void 0 : _item$trackers2.motivo}`;\n        csvContent += `${item.data},${cluster},${usina},${tecnico},\"${inversoresStatus}\",\"${stringsStatus}\",\"${trackersStatus}\",\"${item.observacoesGerais || ''}\"\\n`;\n      });\n    }\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `relatorio_${activeTab}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Gerar WhatsApp consolidado\n  const generateConsolidatedWhatsApp = clusterName => {\n    const clusterData = Object.values(groupedData[clusterName] || {}).flat();\n    if (clusterData.length === 0) return;\n    if (activeTab === 'atividades') {\n      // Para atividades, gerar um resumo por tÃ©cnico\n      const resumoPorTecnico = {};\n      clusterData.forEach(item => {\n        if (!resumoPorTecnico[item.tecnicoName]) {\n          resumoPorTecnico[item.tecnicoName] = [];\n        }\n        resumoPorTecnico[item.tecnicoName].push(item);\n      });\n      let message = `ğŸ“‹ *Resumo de Atividades - ${clusterName}*\\n`;\n      message += `ğŸ“… PerÃ­odo: ${filters.dataInicio || 'InÃ­cio'} atÃ© ${filters.dataFim || 'Hoje'}\\n\\n`;\n      Object.keys(resumoPorTecnico).forEach(tecnicoName => {\n        message += `ğŸ‘· *${tecnicoName}*\\n`;\n        resumoPorTecnico[tecnicoName].forEach(item => {\n          message += `ğŸ“ ${item.usinaName} - ${format(new Date(item.data), 'dd/MM')}: ${item.tarefa}\\n`;\n        });\n        message += '\\n';\n      });\n      copyToClipboard(message);\n    } else {\n      var _clusterData$;\n      // Para status tÃ©cnico, usar o gerador existente\n      const dataReferencia = ((_clusterData$ = clusterData[0]) === null || _clusterData$ === void 0 ? void 0 : _clusterData$.data) || new Date().toISOString().split('T')[0];\n      const message = generateConsolidatedTechnicalStatusWhatsApp(clusterData, clusterName, dataReferencia);\n      copyToClipboard(message);\n    }\n  };\n\n  // Copiar para Ã¡rea de transferÃªncia\n  const copyToClipboard = message => {\n    navigator.clipboard.writeText(message).then(() => {\n      alert('Mensagem copiada para a Ã¡rea de transferÃªncia!');\n    }).catch(() => {\n      const textArea = document.createElement('textarea');\n      textArea.value = message;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      alert('Mensagem copiada para a Ã¡rea de transferÃªncia!');\n    });\n  };\n\n  // Filtrar usinas por cluster selecionado\n  const filteredUsinas = filters.clusterId ? data.usinas.filter(usina => usina.clusterId === filters.clusterId) : data.usinas;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mobile-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          className: \"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"w-6 h-6 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold text-gray-900\",\n            children: \"Gerenciamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Visualizar e exportar relat\\xF3rios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-5 h-5 mr-2 text-primary-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), \"Filtros\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Data In\\xEDcio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: filters.dataInicio,\n                onChange: e => setFilters(prev => ({\n                  ...prev,\n                  dataInicio: e.target.value\n                })),\n                className: \"input-field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Data Fim\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: filters.dataFim,\n                onChange: e => setFilters(prev => ({\n                  ...prev,\n                  dataFim: e.target.value\n                })),\n                className: \"input-field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-4 h-4 inline mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), \"Cluster\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.clusterId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                clusterId: e.target.value,\n                usinaId: ''\n              })),\n              className: \"select-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Todos os clusters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), data.clusters.filter(c => c.ativo).map(cluster => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cluster.id,\n                children: cluster.nome\n              }, cluster.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-4 h-4 inline mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), \"Usina\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.usinaId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                usinaId: e.target.value\n              })),\n              className: \"select-field\",\n              disabled: !filters.clusterId,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: filters.clusterId ? 'Todas as usinas' : 'Primeiro selecione um cluster'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), filteredUsinas.filter(u => u.ativo).map(usina => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: usina.id,\n                children: usina.nome\n              }, usina.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(User, {\n                className: \"w-4 h-4 inline mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), \"T\\xE9cnico\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.tecnicoId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                tecnicoId: e.target.value\n              })),\n              className: \"select-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Todos os t\\xE9cnicos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), data.tecnicos.filter(t => t.ativo).map(tecnico => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: tecnico.id,\n                children: tecnico.nome\n              }, tecnico.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-gray-50 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: filteredData.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), \" registro(s) encontrado(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-gray-100 rounded-lg p-1 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('atividades'),\n          className: `flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${activeTab === 'atividades' ? 'bg-white text-primary-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Atividades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('status'),\n          className: `flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${activeTab === 'status' ? 'bg-white text-primary-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Status T\\xE9cnico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-gray-100 rounded-lg p-1 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('table'),\n          className: `flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${viewMode === 'table' ? 'bg-white text-primary-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Tabela\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('grouped'),\n          className: `flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${viewMode === 'grouped' ? 'bg-white text-primary-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Agrupado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-3 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: exportCSV,\n          disabled: filteredData.length === 0,\n          className: \"btn-secondary flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), \"Exportar CSV\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => printReport(),\n          disabled: filteredData.length === 0,\n          className: \"btn-secondary flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), \"Imprimir\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), filteredData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-16 h-16 mx-auto mb-4 opacity-50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium mb-2\",\n          children: \"Nenhum registro encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"Ajuste os filtros ou adicione novos relat\\xF3rios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }, this) : viewMode === 'table' ?\n      /*#__PURE__*/\n      /* VisualizaÃ§Ã£o em Tabela */\n      _jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: filteredData.map((item, index) => {\n          var _item$inversores3, _item$inversores4, _item$strings3, _item$strings4, _item$trackers3, _item$trackers4;\n          const cluster = data.clusters.find(c => c.id === item.clusterId);\n          const usina = data.usinas.find(u => u.id === item.usinaId);\n          const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center text-sm text-gray-500 mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                    className: \"w-4 h-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 25\n                  }, this), format(new Date(item.data), 'dd/MM/yyyy'), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mx-2\",\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MapPin, {\n                    className: \"w-4 h-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 25\n                  }, this), cluster === null || cluster === void 0 ? void 0 : cluster.nome, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mx-2\",\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(User, {\n                    className: \"w-4 h-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this), tecnico === null || tecnico === void 0 ? void 0 : tecnico.nome]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: usina === null || usina === void 0 ? void 0 : usina.nome\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this), activeTab === 'atividades' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Tarefa:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 26\n                }, this), \" \", item.tarefa]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Hor\\xE1rio:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 26\n                }, this), \" \", item.inicio, \" - \", item.fim]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 23\n              }, this), item.observacoes && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Obs:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 28\n                }, this), \" \", item.observacoes]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-3 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mb-1\",\n                  children: \"Inversores\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `px-2 py-1 rounded text-xs ${(_item$inversores3 = item.inversores) !== null && _item$inversores3 !== void 0 && _item$inversores3.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: (_item$inversores4 = item.inversores) !== null && _item$inversores4 !== void 0 && _item$inversores4.ok100 ? '100%' : 'Problema'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mb-1\",\n                  children: \"Strings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `px-2 py-1 rounded text-xs ${(_item$strings3 = item.strings) !== null && _item$strings3 !== void 0 && _item$strings3.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: (_item$strings4 = item.strings) !== null && _item$strings4 !== void 0 && _item$strings4.ok100 ? '100%' : 'Problema'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mb-1\",\n                  children: \"Trackers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `px-2 py-1 rounded text-xs ${(_item$trackers3 = item.trackers) !== null && _item$trackers3 !== void 0 && _item$trackers3.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: (_item$trackers4 = item.trackers) !== null && _item$trackers4 !== void 0 && _item$trackers4.ok100 ? '100%' : 'Problema'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 21\n            }, this)]\n          }, item.id || index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      /* VisualizaÃ§Ã£o Agrupada */\n      _jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: Object.keys(groupedData).map(clusterName => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-5 h-5 mr-2 text-primary-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), clusterName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => generateConsolidatedWhatsApp(clusterName),\n              className: \"btn-primary text-sm py-1 px-3 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Copy, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this), \"WhatsApp\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: Object.keys(groupedData[clusterName]).map(usinaName => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-l-4 border-primary-200 pl-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-800 mb-2\",\n                children: usinaName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: groupedData[clusterName][usinaName].map((item, index) => {\n                  var _item$inversores5, _item$inversores6, _item$strings5, _item$strings6, _item$trackers5, _item$trackers6;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 rounded p-3 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: item.tecnicoName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 488,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-500\",\n                        children: format(new Date(item.data), 'dd/MM')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 29\n                    }, this), activeTab === 'atividades' ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: [item.tarefa, \" (\", item.inicio, \" - \", item.fim, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-2 py-1 rounded text-xs ${(_item$inversores5 = item.inversores) !== null && _item$inversores5 !== void 0 && _item$inversores5.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                        children: [\"Inv: \", (_item$inversores6 = item.inversores) !== null && _item$inversores6 !== void 0 && _item$inversores6.ok100 ? 'OK' : 'NOK']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 500,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-2 py-1 rounded text-xs ${(_item$strings5 = item.strings) !== null && _item$strings5 !== void 0 && _item$strings5.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                        children: [\"Str: \", (_item$strings6 = item.strings) !== null && _item$strings6 !== void 0 && _item$strings6.ok100 ? 'OK' : 'NOK']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 505,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-2 py-1 rounded text-xs ${(_item$trackers5 = item.trackers) !== null && _item$trackers5 !== void 0 && _item$trackers5.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                        children: [\"Trk: \", (_item$trackers6 = item.trackers) !== null && _item$trackers6 !== void 0 && _item$trackers6.ok100 ? 'OK' : 'NOK']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 31\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 23\n              }, this)]\n            }, usinaName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this)]\n        }, clusterName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(ManagementScreen, \"CchOcosRtpEUvBMpkj7PWO53WD0=\", false, function () {\n  return [useData];\n});\n_c = ManagementScreen;\nexport default ManagementScreen;\nvar _c;\n$RefreshReg$(_c, \"ManagementScreen\");","map":{"version":3,"names":["React","useState","useMemo","ArrowLeft","Calendar","MapPin","User","Filter","Download","Printer","Copy","BarChart3","useData","generateConsolidatedTechnicalStatusWhatsApp","format","jsxDEV","_jsxDEV","ManagementScreen","onBack","_s","data","filters","setFilters","dataInicio","dataFim","clusterId","usinaId","tecnicoId","viewMode","setViewMode","activeTab","setActiveTab","filteredData","filtered","atividades","statusTecnico","filter","item","groupedData","grouped","forEach","cluster","clusters","find","c","id","usina","usinas","u","tecnico","tecnicos","t","clusterName","nome","usinaName","push","tecnicoName","exportCSV","length","alert","csvContent","_data$clusters$find","_data$usinas$find","_data$tecnicos$find","tarefa","inicio","fim","observacoes","_data$clusters$find2","_data$usinas$find2","_data$tecnicos$find2","_item$inversores","_item$inversores2","_item$strings","_item$strings2","_item$trackers","_item$trackers2","inversoresStatus","inversores","ok100","motivo","stringsStatus","strings","trackersStatus","trackers","observacoesGerais","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","Date","toISOString","split","style","visibility","body","appendChild","click","removeChild","generateConsolidatedWhatsApp","clusterData","Object","values","flat","resumoPorTecnico","message","keys","copyToClipboard","_clusterData$","dataReferencia","navigator","clipboard","writeText","then","catch","textArea","value","select","execCommand","filteredUsinas","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","prev","target","ativo","map","disabled","printReport","index","_item$inversores3","_item$inversores4","_item$strings3","_item$strings4","_item$trackers3","_item$trackers4","_item$inversores5","_item$inversores6","_item$strings5","_item$strings6","_item$trackers5","_item$trackers6","_c","$RefreshReg$"],"sources":["/home/thiagoriva/Documents/Projects/daily-report/src/components/ManagementScreen.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { \n  ArrowLeft, \n  Calendar, \n  MapPin, \n  User, \n  Filter, \n  Download, \n  Printer, \n  Copy,\n  BarChart3\n} from 'lucide-react';\nimport { useData } from '../context/DataContext';\nimport { \n  generateConsolidatedTechnicalStatusWhatsApp\n} from '../utils/whatsappGenerator';\nimport { format } from 'date-fns';\n\nconst ManagementScreen = ({ onBack }) => {\n  const { data } = useData();\n  \n  const [filters, setFilters] = useState({\n    dataInicio: '',\n    dataFim: '',\n    clusterId: '',\n    usinaId: '',\n    tecnicoId: ''\n  });\n\n  const [viewMode, setViewMode] = useState('table'); // 'table' ou 'grouped'\n  const [activeTab, setActiveTab] = useState('atividades'); // 'atividades' ou 'status'\n\n  // Filtrar dados baseado nos filtros\n  const filteredData = useMemo(() => {\n    let filtered = activeTab === 'atividades' ? data.atividades : data.statusTecnico;\n\n    if (filters.dataInicio) {\n      filtered = filtered.filter(item => item.data >= filters.dataInicio);\n    }\n    if (filters.dataFim) {\n      filtered = filtered.filter(item => item.data <= filters.dataFim);\n    }\n    if (filters.clusterId) {\n      filtered = filtered.filter(item => item.clusterId === filters.clusterId);\n    }\n    if (filters.usinaId) {\n      filtered = filtered.filter(item => item.usinaId === filters.usinaId);\n    }\n    if (filters.tecnicoId) {\n      filtered = filtered.filter(item => item.tecnicoId === filters.tecnicoId);\n    }\n\n    return filtered;\n  }, [data, filters, activeTab]);\n\n  // Agrupar dados por cluster\n  const groupedData = useMemo(() => {\n    const grouped = {};\n    \n    filteredData.forEach(item => {\n      const cluster = data.clusters.find(c => c.id === item.clusterId);\n      const usina = data.usinas.find(u => u.id === item.usinaId);\n      const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId);\n      \n      const clusterName = cluster?.nome || 'Cluster Desconhecido';\n      \n      if (!grouped[clusterName]) {\n        grouped[clusterName] = {};\n      }\n      \n      const usinaName = usina?.nome || 'Usina Desconhecida';\n      \n      if (!grouped[clusterName][usinaName]) {\n        grouped[clusterName][usinaName] = [];\n      }\n      \n      grouped[clusterName][usinaName].push({\n        ...item,\n        clusterName,\n        usinaName,\n        tecnicoName: tecnico?.nome || 'TÃ©cnico Desconhecido'\n      });\n    });\n    \n    return grouped;\n  }, [filteredData, data]);\n\n  // Exportar CSV\n  const exportCSV = () => {\n    if (filteredData.length === 0) {\n      alert('Nenhum dado para exportar');\n      return;\n    }\n\n    let csvContent = '';\n    \n    if (activeTab === 'atividades') {\n      csvContent = 'Data,Cluster,Usina,TÃ©cnico,Tarefa,InÃ­cio,Fim,ObservaÃ§Ãµes\\n';\n      filteredData.forEach(item => {\n        const cluster = data.clusters.find(c => c.id === item.clusterId)?.nome || '';\n        const usina = data.usinas.find(u => u.id === item.usinaId)?.nome || '';\n        const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId)?.nome || '';\n        \n        csvContent += `${item.data},${cluster},${usina},${tecnico},\"${item.tarefa}\",${item.inicio},${item.fim},\"${item.observacoes || ''}\"\\n`;\n      });\n    } else {\n      csvContent = 'Data,Cluster,Usina,TÃ©cnico,Inversores,Strings,Trackers,ObservaÃ§Ãµes\\n';\n      filteredData.forEach(item => {\n        const cluster = data.clusters.find(c => c.id === item.clusterId)?.nome || '';\n        const usina = data.usinas.find(u => u.id === item.usinaId)?.nome || '';\n        const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId)?.nome || '';\n        \n        const inversoresStatus = item.inversores?.ok100 ? '100%' : `Problema: ${item.inversores?.motivo}`;\n        const stringsStatus = item.strings?.ok100 ? '100%' : `Problema: ${item.strings?.motivo}`;\n        const trackersStatus = item.trackers?.ok100 ? '100%' : `Problema: ${item.trackers?.motivo}`;\n        \n        csvContent += `${item.data},${cluster},${usina},${tecnico},\"${inversoresStatus}\",\"${stringsStatus}\",\"${trackersStatus}\",\"${item.observacoesGerais || ''}\"\\n`;\n      });\n    }\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `relatorio_${activeTab}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Gerar WhatsApp consolidado\n  const generateConsolidatedWhatsApp = (clusterName) => {\n    const clusterData = Object.values(groupedData[clusterName] || {}).flat();\n    \n    if (clusterData.length === 0) return;\n\n    if (activeTab === 'atividades') {\n      // Para atividades, gerar um resumo por tÃ©cnico\n      const resumoPorTecnico = {};\n      clusterData.forEach(item => {\n        if (!resumoPorTecnico[item.tecnicoName]) {\n          resumoPorTecnico[item.tecnicoName] = [];\n        }\n        resumoPorTecnico[item.tecnicoName].push(item);\n      });\n\n      let message = `ğŸ“‹ *Resumo de Atividades - ${clusterName}*\\n`;\n      message += `ğŸ“… PerÃ­odo: ${filters.dataInicio || 'InÃ­cio'} atÃ© ${filters.dataFim || 'Hoje'}\\n\\n`;\n\n      Object.keys(resumoPorTecnico).forEach(tecnicoName => {\n        message += `ğŸ‘· *${tecnicoName}*\\n`;\n        resumoPorTecnico[tecnicoName].forEach(item => {\n          message += `ğŸ“ ${item.usinaName} - ${format(new Date(item.data), 'dd/MM')}: ${item.tarefa}\\n`;\n        });\n        message += '\\n';\n      });\n\n      copyToClipboard(message);\n    } else {\n      // Para status tÃ©cnico, usar o gerador existente\n      const dataReferencia = clusterData[0]?.data || new Date().toISOString().split('T')[0];\n      \n      const message = generateConsolidatedTechnicalStatusWhatsApp(\n        clusterData,\n        clusterName,\n        dataReferencia\n      );\n      \n      copyToClipboard(message);\n    }\n  };\n\n  // Copiar para Ã¡rea de transferÃªncia\n  const copyToClipboard = (message) => {\n    navigator.clipboard.writeText(message).then(() => {\n      alert('Mensagem copiada para a Ã¡rea de transferÃªncia!');\n    }).catch(() => {\n      const textArea = document.createElement('textarea');\n      textArea.value = message;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      alert('Mensagem copiada para a Ã¡rea de transferÃªncia!');\n    });\n  };\n\n  // Filtrar usinas por cluster selecionado\n  const filteredUsinas = filters.clusterId \n    ? data.usinas.filter(usina => usina.clusterId === filters.clusterId)\n    : data.usinas;\n\n  return (\n    <div className=\"mobile-container\">\n      <div className=\"p-6\">\n        {/* Header */}\n        <div className=\"flex items-center mb-6\">\n          <button\n            onClick={onBack}\n            className=\"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <ArrowLeft className=\"w-6 h-6 text-gray-600\" />\n          </button>\n          <div>\n            <h1 className=\"text-xl font-bold text-gray-900\">\n              Gerenciamento\n            </h1>\n            <p className=\"text-sm text-gray-600\">Visualizar e exportar relatÃ³rios</p>\n          </div>\n        </div>\n\n        {/* Filtros */}\n        <div className=\"card mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <Filter className=\"w-5 h-5 mr-2 text-primary-600\" />\n            Filtros\n          </h3>\n          \n          <div className=\"grid grid-cols-1 gap-4\">\n            {/* PerÃ­odo */}\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Data InÃ­cio\n                </label>\n                <input\n                  type=\"date\"\n                  value={filters.dataInicio}\n                  onChange={(e) => setFilters(prev => ({ ...prev, dataInicio: e.target.value }))}\n                  className=\"input-field\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Data Fim\n                </label>\n                <input\n                  type=\"date\"\n                  value={filters.dataFim}\n                  onChange={(e) => setFilters(prev => ({ ...prev, dataFim: e.target.value }))}\n                  className=\"input-field\"\n                />\n              </div>\n            </div>\n\n            {/* Cluster */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                <MapPin className=\"w-4 h-4 inline mr-1\" />\n                Cluster\n              </label>\n              <select\n                value={filters.clusterId}\n                onChange={(e) => setFilters(prev => ({ ...prev, clusterId: e.target.value, usinaId: '' }))}\n                className=\"select-field\"\n              >\n                <option value=\"\">Todos os clusters</option>\n                {data.clusters.filter(c => c.ativo).map(cluster => (\n                  <option key={cluster.id} value={cluster.id}>\n                    {cluster.nome}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Usina */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                <MapPin className=\"w-4 h-4 inline mr-1\" />\n                Usina\n              </label>\n              <select\n                value={filters.usinaId}\n                onChange={(e) => setFilters(prev => ({ ...prev, usinaId: e.target.value }))}\n                className=\"select-field\"\n                disabled={!filters.clusterId}\n              >\n                <option value=\"\">\n                  {filters.clusterId ? 'Todas as usinas' : 'Primeiro selecione um cluster'}\n                </option>\n                {filteredUsinas.filter(u => u.ativo).map(usina => (\n                  <option key={usina.id} value={usina.id}>\n                    {usina.nome}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* TÃ©cnico */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                <User className=\"w-4 h-4 inline mr-1\" />\n                TÃ©cnico\n              </label>\n              <select\n                value={filters.tecnicoId}\n                onChange={(e) => setFilters(prev => ({ ...prev, tecnicoId: e.target.value }))}\n                className=\"select-field\"\n              >\n                <option value=\"\">Todos os tÃ©cnicos</option>\n                {data.tecnicos.filter(t => t.ativo).map(tecnico => (\n                  <option key={tecnico.id} value={tecnico.id}>\n                    {tecnico.nome}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Resumo dos filtros */}\n          <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n            <p className=\"text-sm text-gray-600\">\n              <span className=\"font-medium\">{filteredData.length}</span> registro(s) encontrado(s)\n            </p>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex bg-gray-100 rounded-lg p-1 mb-4\">\n          <button\n            onClick={() => setActiveTab('atividades')}\n            className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n              activeTab === 'atividades'\n                ? 'bg-white text-primary-600 shadow-sm'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            Atividades\n          </button>\n          <button\n            onClick={() => setActiveTab('status')}\n            className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n              activeTab === 'status'\n                ? 'bg-white text-primary-600 shadow-sm'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            Status TÃ©cnico\n          </button>\n        </div>\n\n        {/* View Mode Toggle */}\n        <div className=\"flex bg-gray-100 rounded-lg p-1 mb-4\">\n          <button\n            onClick={() => setViewMode('table')}\n            className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n              viewMode === 'table'\n                ? 'bg-white text-primary-600 shadow-sm'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            Tabela\n          </button>\n          <button\n            onClick={() => setViewMode('grouped')}\n            className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n              viewMode === 'grouped'\n                ? 'bg-white text-primary-600 shadow-sm'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            Agrupado\n          </button>\n        </div>\n\n        {/* AÃ§Ãµes */}\n        <div className=\"grid grid-cols-2 gap-3 mb-6\">\n          <button\n            onClick={exportCSV}\n            disabled={filteredData.length === 0}\n            className=\"btn-secondary flex items-center justify-center\"\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Exportar CSV\n          </button>\n          \n          <button\n            onClick={() => printReport()}\n            disabled={filteredData.length === 0}\n            className=\"btn-secondary flex items-center justify-center\"\n          >\n            <Printer className=\"w-4 h-4 mr-2\" />\n            Imprimir\n          </button>\n        </div>\n\n        {/* ConteÃºdo */}\n        {filteredData.length === 0 ? (\n          <div className=\"text-center py-12 text-gray-500\">\n            <BarChart3 className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n            <h3 className=\"text-lg font-medium mb-2\">Nenhum registro encontrado</h3>\n            <p className=\"text-sm\">Ajuste os filtros ou adicione novos relatÃ³rios</p>\n          </div>\n        ) : viewMode === 'table' ? (\n          /* VisualizaÃ§Ã£o em Tabela */\n          <div className=\"space-y-3\">\n            {filteredData.map((item, index) => {\n              const cluster = data.clusters.find(c => c.id === item.clusterId);\n              const usina = data.usinas.find(u => u.id === item.usinaId);\n              const tecnico = data.tecnicos.find(t => t.id === item.tecnicoId);\n              \n              return (\n                <div key={item.id || index} className=\"card\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div>\n                      <div className=\"flex items-center text-sm text-gray-500 mb-1\">\n                        <Calendar className=\"w-4 h-4 mr-1\" />\n                        {format(new Date(item.data), 'dd/MM/yyyy')}\n                        <span className=\"mx-2\">â€¢</span>\n                        <MapPin className=\"w-4 h-4 mr-1\" />\n                        {cluster?.nome}\n                        <span className=\"mx-2\">â€¢</span>\n                        <User className=\"w-4 h-4 mr-1\" />\n                        {tecnico?.nome}\n                      </div>\n                      <h4 className=\"font-semibold text-gray-900\">{usina?.nome}</h4>\n                    </div>\n                  </div>\n                  \n                  {activeTab === 'atividades' ? (\n                    <div className=\"text-sm text-gray-600\">\n                      <p><span className=\"font-medium\">Tarefa:</span> {item.tarefa}</p>\n                      <p><span className=\"font-medium\">HorÃ¡rio:</span> {item.inicio} - {item.fim}</p>\n                      {item.observacoes && (\n                        <p><span className=\"font-medium\">Obs:</span> {item.observacoes}</p>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-3 gap-3 text-sm\">\n                      <div className=\"text-center\">\n                        <p className=\"text-gray-500 mb-1\">Inversores</p>\n                        <div className={`px-2 py-1 rounded text-xs ${\n                          item.inversores?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                        }`}>\n                          {item.inversores?.ok100 ? '100%' : 'Problema'}\n                        </div>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-gray-500 mb-1\">Strings</p>\n                        <div className={`px-2 py-1 rounded text-xs ${\n                          item.strings?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                        }`}>\n                          {item.strings?.ok100 ? '100%' : 'Problema'}\n                        </div>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-gray-500 mb-1\">Trackers</p>\n                        <div className={`px-2 py-1 rounded text-xs ${\n                          item.trackers?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                        }`}>\n                          {item.trackers?.ok100 ? '100%' : 'Problema'}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          /* VisualizaÃ§Ã£o Agrupada */\n          <div className=\"space-y-6\">\n            {Object.keys(groupedData).map(clusterName => (\n              <div key={clusterName} className=\"card\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                    <MapPin className=\"w-5 h-5 mr-2 text-primary-600\" />\n                    {clusterName}\n                  </h3>\n                  <button\n                    onClick={() => generateConsolidatedWhatsApp(clusterName)}\n                    className=\"btn-primary text-sm py-1 px-3 flex items-center\"\n                  >\n                    <Copy className=\"w-4 h-4 mr-1\" />\n                    WhatsApp\n                  </button>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  {Object.keys(groupedData[clusterName]).map(usinaName => (\n                    <div key={usinaName} className=\"border-l-4 border-primary-200 pl-4\">\n                      <h4 className=\"font-medium text-gray-800 mb-2\">{usinaName}</h4>\n                      <div className=\"space-y-2\">\n                        {groupedData[clusterName][usinaName].map((item, index) => (\n                          <div key={index} className=\"bg-gray-50 rounded p-3 text-sm\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <span className=\"font-medium\">{item.tecnicoName}</span>\n                              <span className=\"text-gray-500\">\n                                {format(new Date(item.data), 'dd/MM')}\n                              </span>\n                            </div>\n                            \n                            {activeTab === 'atividades' ? (\n                              <p className=\"text-gray-600\">\n                                {item.tarefa} ({item.inicio} - {item.fim})\n                              </p>\n                            ) : (\n                              <div className=\"flex space-x-2\">\n                                <span className={`px-2 py-1 rounded text-xs ${\n                                  item.inversores?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                                }`}>\n                                  Inv: {item.inversores?.ok100 ? 'OK' : 'NOK'}\n                                </span>\n                                <span className={`px-2 py-1 rounded text-xs ${\n                                  item.strings?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                                }`}>\n                                  Str: {item.strings?.ok100 ? 'OK' : 'NOK'}\n                                </span>\n                                <span className={`px-2 py-1 rounded text-xs ${\n                                  item.trackers?.ok100 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                                }`}>\n                                  Trk: {item.trackers?.ok100 ? 'OK' : 'NOK'}\n                                </span>\n                              </div>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ManagementScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}