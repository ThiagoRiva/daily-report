{"ast":null,"code":"import { format } from 'date-fns';\n\n// Gerar relat√≥rio di√°rio de atividades\nexport const generateDailyReportWhatsApp = ({\n  cluster,\n  data,\n  tecnico,\n  usina,\n  atividades,\n  tcuComFalha,\n  observacoesGerais\n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n\n  // Gerar linhas de atividades numeradas\n  const linhasAtividades = atividades.map((atividade, index) => {\n    const inicio = atividade.inicio || '--:--';\n    const fim = atividade.fim || '--:--';\n    const usinaInfo = atividade.usinaName && usina === 'M√∫ltiplas Usinas' ? ` (${atividade.usinaName})` : '';\n    return `${index + 1}) ${atividade.tarefa}${usinaInfo} ‚Äì ‚è∞ ${inicio}/${fim}`;\n  }).join('\\n');\n\n  // Gerar observa√ß√µes\n  const observacoes = observacoesGerais.trim() || '-';\n\n  // Gerar status de TCU\n  let statusTCU = 'N√ÉO';\n  if (tcuComFalha.tem && tcuComFalha.falhas.length > 0) {\n    const falhasDetalhadas = tcuComFalha.falhas.filter(falha => falha.skid || falha.tracker || falha.tipoFalha).map(falha => {\n      const partes = [];\n      if (falha.skid) partes.push(`Skid: ${falha.skid}`);\n      if (falha.tracker) partes.push(`Tracker: ${falha.tracker}`);\n      let detalhes = partes.join(' - ');\n      if (falha.tipoFalha) {\n        detalhes += ` (${falha.tipoFalha})`;\n      }\n      if (falha.previsaoInspecao) {\n        const dataPrevisao = format(new Date(falha.previsaoInspecao), 'dd/MM/yyyy');\n        detalhes += ` - Previs√£o: ${dataPrevisao}`;\n      }\n      return detalhes;\n    }).join('\\n‚Ä¢ ');\n    statusTCU = falhasDetalhadas ? `SIM\\n‚Ä¢ ${falhasDetalhadas}` : 'SIM';\n  }\n  return `üîÜ *Relat√≥rio Di√°rio ${cluster} ‚Äì ${dataFormatada}*\nüë∑ Equipe: ${tecnico}\nüìç Usina: ${usina}\n\nüîß *Atividades Programadas*\n${linhasAtividades}\n\nüìå *Observa√ß√µes*\n${observacoes}\n\n‚ö° *TCU com falha*\n${statusTCU}`;\n};\n\n// Gerar status t√©cnico por usina\nexport const generateTechnicalStatusWhatsApp = ({\n  usina,\n  data,\n  cluster,\n  tecnico,\n  inversores,\n  strings,\n  trackers,\n  observacoesGerais\n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n\n  // Fun√ß√£o auxiliar para gerar status de subsistema\n  const gerarStatusSubsistema = (subsistema, nome) => {\n    const status = subsistema.ok100 ? 'SIM' : 'N√ÉO';\n    let detalhes = '';\n    if (!subsistema.ok100 && (subsistema.motivo || subsistema.acaoPrevista)) {\n      const partes = [];\n      if (subsistema.motivo) partes.push(`Motivo: ${subsistema.motivo}`);\n      if (subsistema.acaoPrevista) partes.push(`A√ß√£o: ${subsistema.acaoPrevista}`);\n      detalhes = `\\n${partes.join('. ')}`;\n    }\n    return `üîß *${nome}*: ${status}${detalhes}`;\n  };\n  const observacoes = observacoesGerais.trim() || '-';\n  return `üìç *${usina}* ‚Äì ${dataFormatada} ‚Äì ${cluster}\nüë∑ T√©cnico: ${tecnico}\n\n${gerarStatusSubsistema(inversores, 'Inversores')}\n\n${gerarStatusSubsistema(strings, 'Strings')}\n\n${gerarStatusSubsistema(trackers, 'Trackers')}\n\nüìù Observa√ß√µes: ${observacoes}`;\n};\n\n// Gerar status t√©cnico consolidado por cluster\nexport const generateConsolidatedTechnicalStatusWhatsApp = (statusTecnicoArray, cluster, data) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  const blocosPorUsina = statusTecnicoArray.map(status => generateTechnicalStatusWhatsApp(status)).join('\\n\\n');\n  return `üóÇÔ∏è *Status T√©cnico ‚Äì ${cluster} ‚Äì ${dataFormatada}*\n\n${blocosPorUsina}`;\n};\n\n// Fun√ß√£o auxiliar para formatar data\nexport const formatDateForWhatsApp = date => {\n  return format(new Date(date), 'dd/MM/yyyy');\n};\n\n// Gerar relat√≥rio di√°rio consolidado de todos os clusters\nexport const generateConsolidatedDailyReportWhatsApp = (data, clustersComRelatorios, allData, tcuPorCluster = {}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  let message = `üìã *Relat√≥rio Di√°rio Consolidado ‚Äì ${dataFormatada}*\\n\\n`;\n\n  // Ordenar clusters por nome\n  const clustersOrdenados = clustersComRelatorios.sort((a, b) => a.cluster.nome.localeCompare(b.cluster.nome));\n  clustersOrdenados.forEach((clusterData, clusterIndex) => {\n    const {\n      cluster,\n      atividades\n    } = clusterData;\n\n    // Separador entre clusters (exceto o primeiro)\n    if (clusterIndex > 0) {\n      message += '\\n' + '‚îÄ'.repeat(40) + '\\n\\n';\n    }\n    message += `üîÜ *${cluster.nome.toUpperCase()}*\\n`;\n\n    // Buscar todos os t√©cnicos √∫nicos do cluster\n    const tecnicosDoCluster = new Set();\n    atividades.forEach(atividade => {\n      tecnicosDoCluster.add(atividade.tecnicoId);\n    });\n    const nomesTecnicos = Array.from(tecnicosDoCluster).map(tecnicoId => {\n      const tecnico = allData.tecnicos.find(t => t.id === tecnicoId);\n      return (tecnico === null || tecnico === void 0 ? void 0 : tecnico.nome) || 'T√©cnico Desconhecido';\n    }).join(' / ');\n    message += `üë∑ Equipe: ${nomesTecnicos}\\n`;\n\n    // Agrupar atividades por usina\n    const atividadesPorUsina = {};\n    atividades.forEach(atividade => {\n      const usina = allData.usinas.find(u => u.id === atividade.usinaId);\n      const usinaName = (usina === null || usina === void 0 ? void 0 : usina.nome) || 'Usina Desconhecida';\n      if (!atividadesPorUsina[usinaName]) {\n        atividadesPorUsina[usinaName] = [];\n      }\n      atividadesPorUsina[usinaName].push(atividade);\n    });\n\n    // Listar atividades por usina (sem separa√ß√£o por t√©cnico)\n    Object.keys(atividadesPorUsina).forEach(usinaName => {\n      message += `\\nüìç *${usinaName}*\\n`;\n\n      // Consolidar todas as atividades da usina (sem duplicatas)\n      const atividadesUnicas = [];\n      const atividadesVistas = new Set();\n      atividadesPorUsina[usinaName].forEach(atividade => {\n        const chave = `${atividade.tarefa}-${atividade.inicio}-${atividade.fim}`;\n        if (!atividadesVistas.has(chave)) {\n          atividadesVistas.add(chave);\n          atividadesUnicas.push(atividade);\n        }\n      });\n\n      // Ordenar por hor√°rio e numerar\n      atividadesUnicas.sort((a, b) => a.inicio.localeCompare(b.inicio)).forEach((atividade, index) => {\n        const inicio = atividade.inicio || '--:--';\n        const fim = atividade.fim || '--:--';\n        message += `${index + 1}) ${atividade.tarefa} ‚Äì ‚è∞ ${inicio}/${fim}\\n`;\n      });\n    });\n  });\n\n  // Adicionar se√ß√£o de TCU com falha se houver registros\n  const tcuComFalhas = Object.values(tcuPorCluster).filter(tcu => tcu.data === data && tcu.tcuComFalha.tem && tcu.tcuComFalha.falhas.length > 0);\n  if (tcuComFalhas.length > 0) {\n    message += '\\n\\n' + '‚îÄ'.repeat(40) + '\\n\\n';\n    message += '‚ö° *TCU COM FALHA REGISTRADAS*\\n\\n';\n    tcuComFalhas.forEach(tcuData => {\n      const cluster = allData.clusters.find(c => c.id === tcuData.clusterId);\n      message += `üîÜ *${cluster === null || cluster === void 0 ? void 0 : cluster.nome.toUpperCase()}*\\n`;\n      tcuData.tcuComFalha.falhas.forEach((falha, index) => {\n        const identificacao = [];\n        if (falha.skid) identificacao.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) identificacao.push(`Tracker: ${falha.tracker}`);\n        message += `${index + 1}) ${identificacao.join(' - ')}`;\n        if (falha.tipoFalha) {\n          message += `\\n   üîß Tipo: ${falha.tipoFalha}`;\n        }\n        if (falha.previsaoInspecao) {\n          const dataPrevisao = format(new Date(falha.previsaoInspecao), 'dd/MM/yyyy');\n          message += `\\n   üìÖ Previs√£o: ${dataPrevisao}`;\n        }\n        message += '\\n\\n';\n      });\n    });\n  }\n  return message.trim();\n};\n\n// Fun√ß√£o auxiliar para validar dados antes de gerar mensagem\nexport const validateDataForWhatsApp = (data, type) => {\n  const errors = [];\n  if (!data.cluster) errors.push('Cluster √© obrigat√≥rio');\n  if (!data.data) errors.push('Data √© obrigat√≥ria');\n  if (!data.usina) errors.push('Usina √© obrigat√≥ria');\n  if (!data.tecnico) errors.push('T√©cnico √© obrigat√≥rio');\n  if (type === 'daily' && (!data.atividades || data.atividades.length === 0)) {\n    errors.push('Pelo menos uma atividade √© obrigat√≥ria');\n  }\n  if (type === 'technical' && (!data.inversores || !data.strings || !data.trackers)) {\n    errors.push('Status de todos os subsistemas √© obrigat√≥rio');\n  }\n  return errors;\n};","map":{"version":3,"names":["format","generateDailyReportWhatsApp","cluster","data","tecnico","usina","atividades","tcuComFalha","observacoesGerais","dataFormatada","Date","linhasAtividades","map","atividade","index","inicio","fim","usinaInfo","usinaName","tarefa","join","observacoes","trim","statusTCU","tem","falhas","length","falhasDetalhadas","filter","falha","skid","tracker","tipoFalha","partes","push","detalhes","previsaoInspecao","dataPrevisao","generateTechnicalStatusWhatsApp","inversores","strings","trackers","gerarStatusSubsistema","subsistema","nome","status","ok100","motivo","acaoPrevista","generateConsolidatedTechnicalStatusWhatsApp","statusTecnicoArray","blocosPorUsina","formatDateForWhatsApp","date","generateConsolidatedDailyReportWhatsApp","clustersComRelatorios","allData","tcuPorCluster","message","clustersOrdenados","sort","a","b","localeCompare","forEach","clusterData","clusterIndex","repeat","toUpperCase","tecnicosDoCluster","Set","add","tecnicoId","nomesTecnicos","Array","from","tecnicos","find","t","id","atividadesPorUsina","usinas","u","usinaId","Object","keys","atividadesUnicas","atividadesVistas","chave","has","tcuComFalhas","values","tcu","tcuData","clusters","c","clusterId","identificacao","validateDataForWhatsApp","type","errors"],"sources":["/home/thiagoriva/Documents/Projects/daily-report/src/utils/whatsappGenerator.js"],"sourcesContent":["import { format } from 'date-fns';\n\n// Gerar relat√≥rio di√°rio de atividades\nexport const generateDailyReportWhatsApp = ({ \n  cluster, \n  data, \n  tecnico, \n  usina, \n  atividades, \n  tcuComFalha, \n  observacoesGerais \n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  // Gerar linhas de atividades numeradas\n  const linhasAtividades = atividades\n    .map((atividade, index) => {\n      const inicio = atividade.inicio || '--:--';\n      const fim = atividade.fim || '--:--';\n      const usinaInfo = atividade.usinaName && usina === 'M√∫ltiplas Usinas' ? ` (${atividade.usinaName})` : '';\n      return `${index + 1}) ${atividade.tarefa}${usinaInfo} ‚Äì ‚è∞ ${inicio}/${fim}`;\n    })\n    .join('\\n');\n\n  // Gerar observa√ß√µes\n  const observacoes = observacoesGerais.trim() || '-';\n\n  // Gerar status de TCU\n  let statusTCU = 'N√ÉO';\n  if (tcuComFalha.tem && tcuComFalha.falhas.length > 0) {\n    const falhasDetalhadas = tcuComFalha.falhas\n      .filter(falha => falha.skid || falha.tracker || falha.tipoFalha)\n      .map(falha => {\n        const partes = [];\n        if (falha.skid) partes.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) partes.push(`Tracker: ${falha.tracker}`);\n        \n        let detalhes = partes.join(' - ');\n        \n        if (falha.tipoFalha) {\n          detalhes += ` (${falha.tipoFalha})`;\n        }\n        \n        if (falha.previsaoInspecao) {\n          const dataPrevisao = format(new Date(falha.previsaoInspecao), 'dd/MM/yyyy');\n          detalhes += ` - Previs√£o: ${dataPrevisao}`;\n        }\n        \n        return detalhes;\n      })\n      .join('\\n‚Ä¢ ');\n    \n    statusTCU = falhasDetalhadas ? `SIM\\n‚Ä¢ ${falhasDetalhadas}` : 'SIM';\n  }\n\n  return `üîÜ *Relat√≥rio Di√°rio ${cluster} ‚Äì ${dataFormatada}*\nüë∑ Equipe: ${tecnico}\nüìç Usina: ${usina}\n\nüîß *Atividades Programadas*\n${linhasAtividades}\n\nüìå *Observa√ß√µes*\n${observacoes}\n\n‚ö° *TCU com falha*\n${statusTCU}`;\n};\n\n// Gerar status t√©cnico por usina\nexport const generateTechnicalStatusWhatsApp = ({ \n  usina, \n  data, \n  cluster, \n  tecnico, \n  inversores, \n  strings, \n  trackers, \n  observacoesGerais \n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  // Fun√ß√£o auxiliar para gerar status de subsistema\n  const gerarStatusSubsistema = (subsistema, nome) => {\n    const status = subsistema.ok100 ? 'SIM' : 'N√ÉO';\n    let detalhes = '';\n    \n    if (!subsistema.ok100 && (subsistema.motivo || subsistema.acaoPrevista)) {\n      const partes = [];\n      if (subsistema.motivo) partes.push(`Motivo: ${subsistema.motivo}`);\n      if (subsistema.acaoPrevista) partes.push(`A√ß√£o: ${subsistema.acaoPrevista}`);\n      detalhes = `\\n${partes.join('. ')}`;\n    }\n    \n    return `üîß *${nome}*: ${status}${detalhes}`;\n  };\n\n  const observacoes = observacoesGerais.trim() || '-';\n\n  return `üìç *${usina}* ‚Äì ${dataFormatada} ‚Äì ${cluster}\nüë∑ T√©cnico: ${tecnico}\n\n${gerarStatusSubsistema(inversores, 'Inversores')}\n\n${gerarStatusSubsistema(strings, 'Strings')}\n\n${gerarStatusSubsistema(trackers, 'Trackers')}\n\nüìù Observa√ß√µes: ${observacoes}`;\n};\n\n// Gerar status t√©cnico consolidado por cluster\nexport const generateConsolidatedTechnicalStatusWhatsApp = (statusTecnicoArray, cluster, data) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  const blocosPorUsina = statusTecnicoArray\n    .map(status => generateTechnicalStatusWhatsApp(status))\n    .join('\\n\\n');\n\n  return `üóÇÔ∏è *Status T√©cnico ‚Äì ${cluster} ‚Äì ${dataFormatada}*\n\n${blocosPorUsina}`;\n};\n\n// Fun√ß√£o auxiliar para formatar data\nexport const formatDateForWhatsApp = (date) => {\n  return format(new Date(date), 'dd/MM/yyyy');\n};\n\n// Gerar relat√≥rio di√°rio consolidado de todos os clusters\nexport const generateConsolidatedDailyReportWhatsApp = (data, clustersComRelatorios, allData, tcuPorCluster = {}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  let message = `üìã *Relat√≥rio Di√°rio Consolidado ‚Äì ${dataFormatada}*\\n\\n`;\n  \n  // Ordenar clusters por nome\n  const clustersOrdenados = clustersComRelatorios\n    .sort((a, b) => a.cluster.nome.localeCompare(b.cluster.nome));\n  \n  clustersOrdenados.forEach((clusterData, clusterIndex) => {\n    const { cluster, atividades } = clusterData;\n    \n    // Separador entre clusters (exceto o primeiro)\n    if (clusterIndex > 0) {\n      message += '\\n' + '‚îÄ'.repeat(40) + '\\n\\n';\n    }\n    \n    message += `üîÜ *${cluster.nome.toUpperCase()}*\\n`;\n    \n    // Buscar todos os t√©cnicos √∫nicos do cluster\n    const tecnicosDoCluster = new Set();\n    atividades.forEach(atividade => {\n      tecnicosDoCluster.add(atividade.tecnicoId);\n    });\n    \n    const nomesTecnicos = Array.from(tecnicosDoCluster)\n      .map(tecnicoId => {\n        const tecnico = allData.tecnicos.find(t => t.id === tecnicoId);\n        return tecnico?.nome || 'T√©cnico Desconhecido';\n      })\n      .join(' / ');\n    \n    message += `üë∑ Equipe: ${nomesTecnicos}\\n`;\n    \n    // Agrupar atividades por usina\n    const atividadesPorUsina = {};\n    atividades.forEach(atividade => {\n      const usina = allData.usinas.find(u => u.id === atividade.usinaId);\n      const usinaName = usina?.nome || 'Usina Desconhecida';\n      \n      if (!atividadesPorUsina[usinaName]) {\n        atividadesPorUsina[usinaName] = [];\n      }\n      atividadesPorUsina[usinaName].push(atividade);\n    });\n    \n    // Listar atividades por usina (sem separa√ß√£o por t√©cnico)\n    Object.keys(atividadesPorUsina).forEach(usinaName => {\n      message += `\\nüìç *${usinaName}*\\n`;\n      \n      // Consolidar todas as atividades da usina (sem duplicatas)\n      const atividadesUnicas = [];\n      const atividadesVistas = new Set();\n      \n      atividadesPorUsina[usinaName].forEach(atividade => {\n        const chave = `${atividade.tarefa}-${atividade.inicio}-${atividade.fim}`;\n        if (!atividadesVistas.has(chave)) {\n          atividadesVistas.add(chave);\n          atividadesUnicas.push(atividade);\n        }\n      });\n      \n      // Ordenar por hor√°rio e numerar\n      atividadesUnicas\n        .sort((a, b) => a.inicio.localeCompare(b.inicio))\n        .forEach((atividade, index) => {\n          const inicio = atividade.inicio || '--:--';\n          const fim = atividade.fim || '--:--';\n          message += `${index + 1}) ${atividade.tarefa} ‚Äì ‚è∞ ${inicio}/${fim}\\n`;\n        });\n    });\n  });\n  \n  // Adicionar se√ß√£o de TCU com falha se houver registros\n  const tcuComFalhas = Object.values(tcuPorCluster).filter(tcu => \n    tcu.data === data && tcu.tcuComFalha.tem && tcu.tcuComFalha.falhas.length > 0\n  );\n  \n  if (tcuComFalhas.length > 0) {\n    message += '\\n\\n' + '‚îÄ'.repeat(40) + '\\n\\n';\n    message += '‚ö° *TCU COM FALHA REGISTRADAS*\\n\\n';\n    \n    tcuComFalhas.forEach(tcuData => {\n      const cluster = allData.clusters.find(c => c.id === tcuData.clusterId);\n      message += `üîÜ *${cluster?.nome.toUpperCase()}*\\n`;\n      \n      tcuData.tcuComFalha.falhas.forEach((falha, index) => {\n        const identificacao = [];\n        if (falha.skid) identificacao.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) identificacao.push(`Tracker: ${falha.tracker}`);\n        \n        message += `${index + 1}) ${identificacao.join(' - ')}`;\n        \n        if (falha.tipoFalha) {\n          message += `\\n   üîß Tipo: ${falha.tipoFalha}`;\n        }\n        \n        if (falha.previsaoInspecao) {\n          const dataPrevisao = format(new Date(falha.previsaoInspecao), 'dd/MM/yyyy');\n          message += `\\n   üìÖ Previs√£o: ${dataPrevisao}`;\n        }\n        \n        message += '\\n\\n';\n      });\n    });\n  }\n  \n  return message.trim();\n};\n\n// Fun√ß√£o auxiliar para validar dados antes de gerar mensagem\nexport const validateDataForWhatsApp = (data, type) => {\n  const errors = [];\n  \n  if (!data.cluster) errors.push('Cluster √© obrigat√≥rio');\n  if (!data.data) errors.push('Data √© obrigat√≥ria');\n  if (!data.usina) errors.push('Usina √© obrigat√≥ria');\n  if (!data.tecnico) errors.push('T√©cnico √© obrigat√≥rio');\n  \n  if (type === 'daily' && (!data.atividades || data.atividades.length === 0)) {\n    errors.push('Pelo menos uma atividade √© obrigat√≥ria');\n  }\n  \n  if (type === 'technical' && (!data.inversores || !data.strings || !data.trackers)) {\n    errors.push('Status de todos os subsistemas √© obrigat√≥rio');\n  }\n  \n  return errors;\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;;AAEjC;AACA,OAAO,MAAMC,2BAA2B,GAAGA,CAAC;EAC1CC,OAAO;EACPC,IAAI;EACJC,OAAO;EACPC,KAAK;EACLC,UAAU;EACVC,WAAW;EACXC;AACF,CAAC,KAAK;EACJ,MAAMC,aAAa,GAAGT,MAAM,CAAC,IAAIU,IAAI,CAACP,IAAI,CAAC,EAAE,YAAY,CAAC;;EAE1D;EACA,MAAMQ,gBAAgB,GAAGL,UAAU,CAChCM,GAAG,CAAC,CAACC,SAAS,EAAEC,KAAK,KAAK;IACzB,MAAMC,MAAM,GAAGF,SAAS,CAACE,MAAM,IAAI,OAAO;IAC1C,MAAMC,GAAG,GAAGH,SAAS,CAACG,GAAG,IAAI,OAAO;IACpC,MAAMC,SAAS,GAAGJ,SAAS,CAACK,SAAS,IAAIb,KAAK,KAAK,kBAAkB,GAAG,KAAKQ,SAAS,CAACK,SAAS,GAAG,GAAG,EAAE;IACxG,OAAO,GAAGJ,KAAK,GAAG,CAAC,KAAKD,SAAS,CAACM,MAAM,GAAGF,SAAS,QAAQF,MAAM,IAAIC,GAAG,EAAE;EAC7E,CAAC,CAAC,CACDI,IAAI,CAAC,IAAI,CAAC;;EAEb;EACA,MAAMC,WAAW,GAAGb,iBAAiB,CAACc,IAAI,CAAC,CAAC,IAAI,GAAG;;EAEnD;EACA,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAIhB,WAAW,CAACiB,GAAG,IAAIjB,WAAW,CAACkB,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;IACpD,MAAMC,gBAAgB,GAAGpB,WAAW,CAACkB,MAAM,CACxCG,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACE,OAAO,IAAIF,KAAK,CAACG,SAAS,CAAC,CAC/DpB,GAAG,CAACiB,KAAK,IAAI;MACZ,MAAMI,MAAM,GAAG,EAAE;MACjB,IAAIJ,KAAK,CAACC,IAAI,EAAEG,MAAM,CAACC,IAAI,CAAC,SAASL,KAAK,CAACC,IAAI,EAAE,CAAC;MAClD,IAAID,KAAK,CAACE,OAAO,EAAEE,MAAM,CAACC,IAAI,CAAC,YAAYL,KAAK,CAACE,OAAO,EAAE,CAAC;MAE3D,IAAII,QAAQ,GAAGF,MAAM,CAACb,IAAI,CAAC,KAAK,CAAC;MAEjC,IAAIS,KAAK,CAACG,SAAS,EAAE;QACnBG,QAAQ,IAAI,KAAKN,KAAK,CAACG,SAAS,GAAG;MACrC;MAEA,IAAIH,KAAK,CAACO,gBAAgB,EAAE;QAC1B,MAAMC,YAAY,GAAGrC,MAAM,CAAC,IAAIU,IAAI,CAACmB,KAAK,CAACO,gBAAgB,CAAC,EAAE,YAAY,CAAC;QAC3ED,QAAQ,IAAI,gBAAgBE,YAAY,EAAE;MAC5C;MAEA,OAAOF,QAAQ;IACjB,CAAC,CAAC,CACDf,IAAI,CAAC,MAAM,CAAC;IAEfG,SAAS,GAAGI,gBAAgB,GAAG,UAAUA,gBAAgB,EAAE,GAAG,KAAK;EACrE;EAEA,OAAO,wBAAwBzB,OAAO,MAAMO,aAAa;AAC3D,aAAaL,OAAO;AACpB,YAAYC,KAAK;AACjB;AACA;AACA,EAAEM,gBAAgB;AAClB;AACA;AACA,EAAEU,WAAW;AACb;AACA;AACA,EAAEE,SAAS,EAAE;AACb,CAAC;;AAED;AACA,OAAO,MAAMe,+BAA+B,GAAGA,CAAC;EAC9CjC,KAAK;EACLF,IAAI;EACJD,OAAO;EACPE,OAAO;EACPmC,UAAU;EACVC,OAAO;EACPC,QAAQ;EACRjC;AACF,CAAC,KAAK;EACJ,MAAMC,aAAa,GAAGT,MAAM,CAAC,IAAIU,IAAI,CAACP,IAAI,CAAC,EAAE,YAAY,CAAC;;EAE1D;EACA,MAAMuC,qBAAqB,GAAGA,CAACC,UAAU,EAAEC,IAAI,KAAK;IAClD,MAAMC,MAAM,GAAGF,UAAU,CAACG,KAAK,GAAG,KAAK,GAAG,KAAK;IAC/C,IAAIX,QAAQ,GAAG,EAAE;IAEjB,IAAI,CAACQ,UAAU,CAACG,KAAK,KAAKH,UAAU,CAACI,MAAM,IAAIJ,UAAU,CAACK,YAAY,CAAC,EAAE;MACvE,MAAMf,MAAM,GAAG,EAAE;MACjB,IAAIU,UAAU,CAACI,MAAM,EAAEd,MAAM,CAACC,IAAI,CAAC,WAAWS,UAAU,CAACI,MAAM,EAAE,CAAC;MAClE,IAAIJ,UAAU,CAACK,YAAY,EAAEf,MAAM,CAACC,IAAI,CAAC,SAASS,UAAU,CAACK,YAAY,EAAE,CAAC;MAC5Eb,QAAQ,GAAG,KAAKF,MAAM,CAACb,IAAI,CAAC,IAAI,CAAC,EAAE;IACrC;IAEA,OAAO,OAAOwB,IAAI,MAAMC,MAAM,GAAGV,QAAQ,EAAE;EAC7C,CAAC;EAED,MAAMd,WAAW,GAAGb,iBAAiB,CAACc,IAAI,CAAC,CAAC,IAAI,GAAG;EAEnD,OAAO,OAAOjB,KAAK,OAAOI,aAAa,MAAMP,OAAO;AACtD,cAAcE,OAAO;AACrB;AACA,EAAEsC,qBAAqB,CAACH,UAAU,EAAE,YAAY,CAAC;AACjD;AACA,EAAEG,qBAAqB,CAACF,OAAO,EAAE,SAAS,CAAC;AAC3C;AACA,EAAEE,qBAAqB,CAACD,QAAQ,EAAE,UAAU,CAAC;AAC7C;AACA,kBAAkBpB,WAAW,EAAE;AAC/B,CAAC;;AAED;AACA,OAAO,MAAM4B,2CAA2C,GAAGA,CAACC,kBAAkB,EAAEhD,OAAO,EAAEC,IAAI,KAAK;EAChG,MAAMM,aAAa,GAAGT,MAAM,CAAC,IAAIU,IAAI,CAACP,IAAI,CAAC,EAAE,YAAY,CAAC;EAE1D,MAAMgD,cAAc,GAAGD,kBAAkB,CACtCtC,GAAG,CAACiC,MAAM,IAAIP,+BAA+B,CAACO,MAAM,CAAC,CAAC,CACtDzB,IAAI,CAAC,MAAM,CAAC;EAEf,OAAO,yBAAyBlB,OAAO,MAAMO,aAAa;AAC5D;AACA,EAAE0C,cAAc,EAAE;AAClB,CAAC;;AAED;AACA,OAAO,MAAMC,qBAAqB,GAAIC,IAAI,IAAK;EAC7C,OAAOrD,MAAM,CAAC,IAAIU,IAAI,CAAC2C,IAAI,CAAC,EAAE,YAAY,CAAC;AAC7C,CAAC;;AAED;AACA,OAAO,MAAMC,uCAAuC,GAAGA,CAACnD,IAAI,EAAEoD,qBAAqB,EAAEC,OAAO,EAAEC,aAAa,GAAG,CAAC,CAAC,KAAK;EACnH,MAAMhD,aAAa,GAAGT,MAAM,CAAC,IAAIU,IAAI,CAACP,IAAI,CAAC,EAAE,YAAY,CAAC;EAE1D,IAAIuD,OAAO,GAAG,sCAAsCjD,aAAa,OAAO;;EAExE;EACA,MAAMkD,iBAAiB,GAAGJ,qBAAqB,CAC5CK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC3D,OAAO,CAAC0C,IAAI,CAACmB,aAAa,CAACD,CAAC,CAAC5D,OAAO,CAAC0C,IAAI,CAAC,CAAC;EAE/De,iBAAiB,CAACK,OAAO,CAAC,CAACC,WAAW,EAAEC,YAAY,KAAK;IACvD,MAAM;MAAEhE,OAAO;MAAEI;IAAW,CAAC,GAAG2D,WAAW;;IAE3C;IACA,IAAIC,YAAY,GAAG,CAAC,EAAE;MACpBR,OAAO,IAAI,IAAI,GAAG,GAAG,CAACS,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM;IAC3C;IAEAT,OAAO,IAAI,OAAOxD,OAAO,CAAC0C,IAAI,CAACwB,WAAW,CAAC,CAAC,KAAK;;IAEjD;IACA,MAAMC,iBAAiB,GAAG,IAAIC,GAAG,CAAC,CAAC;IACnChE,UAAU,CAAC0D,OAAO,CAACnD,SAAS,IAAI;MAC9BwD,iBAAiB,CAACE,GAAG,CAAC1D,SAAS,CAAC2D,SAAS,CAAC;IAC5C,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAGC,KAAK,CAACC,IAAI,CAACN,iBAAiB,CAAC,CAChDzD,GAAG,CAAC4D,SAAS,IAAI;MAChB,MAAMpE,OAAO,GAAGoD,OAAO,CAACoB,QAAQ,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKP,SAAS,CAAC;MAC9D,OAAO,CAAApE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEwC,IAAI,KAAI,sBAAsB;IAChD,CAAC,CAAC,CACDxB,IAAI,CAAC,KAAK,CAAC;IAEdsC,OAAO,IAAI,cAAce,aAAa,IAAI;;IAE1C;IACA,MAAMO,kBAAkB,GAAG,CAAC,CAAC;IAC7B1E,UAAU,CAAC0D,OAAO,CAACnD,SAAS,IAAI;MAC9B,MAAMR,KAAK,GAAGmD,OAAO,CAACyB,MAAM,CAACJ,IAAI,CAACK,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKlE,SAAS,CAACsE,OAAO,CAAC;MAClE,MAAMjE,SAAS,GAAG,CAAAb,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEuC,IAAI,KAAI,oBAAoB;MAErD,IAAI,CAACoC,kBAAkB,CAAC9D,SAAS,CAAC,EAAE;QAClC8D,kBAAkB,CAAC9D,SAAS,CAAC,GAAG,EAAE;MACpC;MACA8D,kBAAkB,CAAC9D,SAAS,CAAC,CAACgB,IAAI,CAACrB,SAAS,CAAC;IAC/C,CAAC,CAAC;;IAEF;IACAuE,MAAM,CAACC,IAAI,CAACL,kBAAkB,CAAC,CAAChB,OAAO,CAAC9C,SAAS,IAAI;MACnDwC,OAAO,IAAI,SAASxC,SAAS,KAAK;;MAElC;MACA,MAAMoE,gBAAgB,GAAG,EAAE;MAC3B,MAAMC,gBAAgB,GAAG,IAAIjB,GAAG,CAAC,CAAC;MAElCU,kBAAkB,CAAC9D,SAAS,CAAC,CAAC8C,OAAO,CAACnD,SAAS,IAAI;QACjD,MAAM2E,KAAK,GAAG,GAAG3E,SAAS,CAACM,MAAM,IAAIN,SAAS,CAACE,MAAM,IAAIF,SAAS,CAACG,GAAG,EAAE;QACxE,IAAI,CAACuE,gBAAgB,CAACE,GAAG,CAACD,KAAK,CAAC,EAAE;UAChCD,gBAAgB,CAAChB,GAAG,CAACiB,KAAK,CAAC;UAC3BF,gBAAgB,CAACpD,IAAI,CAACrB,SAAS,CAAC;QAClC;MACF,CAAC,CAAC;;MAEF;MACAyE,gBAAgB,CACb1B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC9C,MAAM,CAACgD,aAAa,CAACD,CAAC,CAAC/C,MAAM,CAAC,CAAC,CAChDiD,OAAO,CAAC,CAACnD,SAAS,EAAEC,KAAK,KAAK;QAC7B,MAAMC,MAAM,GAAGF,SAAS,CAACE,MAAM,IAAI,OAAO;QAC1C,MAAMC,GAAG,GAAGH,SAAS,CAACG,GAAG,IAAI,OAAO;QACpC0C,OAAO,IAAI,GAAG5C,KAAK,GAAG,CAAC,KAAKD,SAAS,CAACM,MAAM,QAAQJ,MAAM,IAAIC,GAAG,IAAI;MACvE,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC,CAAC;;EAEF;EACA,MAAM0E,YAAY,GAAGN,MAAM,CAACO,MAAM,CAAClC,aAAa,CAAC,CAAC7B,MAAM,CAACgE,GAAG,IAC1DA,GAAG,CAACzF,IAAI,KAAKA,IAAI,IAAIyF,GAAG,CAACrF,WAAW,CAACiB,GAAG,IAAIoE,GAAG,CAACrF,WAAW,CAACkB,MAAM,CAACC,MAAM,GAAG,CAC9E,CAAC;EAED,IAAIgE,YAAY,CAAChE,MAAM,GAAG,CAAC,EAAE;IAC3BgC,OAAO,IAAI,MAAM,GAAG,GAAG,CAACS,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM;IAC3CT,OAAO,IAAI,mCAAmC;IAE9CgC,YAAY,CAAC1B,OAAO,CAAC6B,OAAO,IAAI;MAC9B,MAAM3F,OAAO,GAAGsD,OAAO,CAACsC,QAAQ,CAACjB,IAAI,CAACkB,CAAC,IAAIA,CAAC,CAAChB,EAAE,KAAKc,OAAO,CAACG,SAAS,CAAC;MACtEtC,OAAO,IAAI,OAAOxD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE0C,IAAI,CAACwB,WAAW,CAAC,CAAC,KAAK;MAElDyB,OAAO,CAACtF,WAAW,CAACkB,MAAM,CAACuC,OAAO,CAAC,CAACnC,KAAK,EAAEf,KAAK,KAAK;QACnD,MAAMmF,aAAa,GAAG,EAAE;QACxB,IAAIpE,KAAK,CAACC,IAAI,EAAEmE,aAAa,CAAC/D,IAAI,CAAC,SAASL,KAAK,CAACC,IAAI,EAAE,CAAC;QACzD,IAAID,KAAK,CAACE,OAAO,EAAEkE,aAAa,CAAC/D,IAAI,CAAC,YAAYL,KAAK,CAACE,OAAO,EAAE,CAAC;QAElE2B,OAAO,IAAI,GAAG5C,KAAK,GAAG,CAAC,KAAKmF,aAAa,CAAC7E,IAAI,CAAC,KAAK,CAAC,EAAE;QAEvD,IAAIS,KAAK,CAACG,SAAS,EAAE;UACnB0B,OAAO,IAAI,iBAAiB7B,KAAK,CAACG,SAAS,EAAE;QAC/C;QAEA,IAAIH,KAAK,CAACO,gBAAgB,EAAE;UAC1B,MAAMC,YAAY,GAAGrC,MAAM,CAAC,IAAIU,IAAI,CAACmB,KAAK,CAACO,gBAAgB,CAAC,EAAE,YAAY,CAAC;UAC3EsB,OAAO,IAAI,qBAAqBrB,YAAY,EAAE;QAChD;QAEAqB,OAAO,IAAI,MAAM;MACnB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,OAAOA,OAAO,CAACpC,IAAI,CAAC,CAAC;AACvB,CAAC;;AAED;AACA,OAAO,MAAM4E,uBAAuB,GAAGA,CAAC/F,IAAI,EAAEgG,IAAI,KAAK;EACrD,MAAMC,MAAM,GAAG,EAAE;EAEjB,IAAI,CAACjG,IAAI,CAACD,OAAO,EAAEkG,MAAM,CAAClE,IAAI,CAAC,uBAAuB,CAAC;EACvD,IAAI,CAAC/B,IAAI,CAACA,IAAI,EAAEiG,MAAM,CAAClE,IAAI,CAAC,oBAAoB,CAAC;EACjD,IAAI,CAAC/B,IAAI,CAACE,KAAK,EAAE+F,MAAM,CAAClE,IAAI,CAAC,qBAAqB,CAAC;EACnD,IAAI,CAAC/B,IAAI,CAACC,OAAO,EAAEgG,MAAM,CAAClE,IAAI,CAAC,uBAAuB,CAAC;EAEvD,IAAIiE,IAAI,KAAK,OAAO,KAAK,CAAChG,IAAI,CAACG,UAAU,IAAIH,IAAI,CAACG,UAAU,CAACoB,MAAM,KAAK,CAAC,CAAC,EAAE;IAC1E0E,MAAM,CAAClE,IAAI,CAAC,wCAAwC,CAAC;EACvD;EAEA,IAAIiE,IAAI,KAAK,WAAW,KAAK,CAAChG,IAAI,CAACoC,UAAU,IAAI,CAACpC,IAAI,CAACqC,OAAO,IAAI,CAACrC,IAAI,CAACsC,QAAQ,CAAC,EAAE;IACjF2D,MAAM,CAAClE,IAAI,CAAC,8CAA8C,CAAC;EAC7D;EAEA,OAAOkE,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}