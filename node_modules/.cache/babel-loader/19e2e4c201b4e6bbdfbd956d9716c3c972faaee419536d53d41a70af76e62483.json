{"ast":null,"code":"import { format } from 'date-fns';\n\n// Gerar relatório diário de atividades\nexport const generateDailyReportWhatsApp = ({\n  cluster,\n  data,\n  tecnico,\n  usina,\n  atividades,\n  tcuComFalha,\n  observacoesGerais\n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n\n  // Gerar linhas de atividades numeradas\n  const linhasAtividades = atividades.map((atividade, index) => {\n    const inicio = atividade.inicio || '--:--';\n    const fim = atividade.fim || '--:--';\n    const usinaInfo = atividade.usinaName && usina === 'Múltiplas Usinas' ? ` (${atividade.usinaName})` : '';\n    return `${index + 1}) ${atividade.tarefa}${usinaInfo} – ⏰ ${inicio}/${fim}`;\n  }).join('\\n');\n\n  // Gerar observações\n  const observacoes = observacoesGerais.trim() || '-';\n\n  // Gerar status de TCU\n  let statusTCU = 'NÃO';\n  if (tcuComFalha.tem && tcuComFalha.falhas.length > 0) {\n    const falhasDetalhadas = tcuComFalha.falhas.filter(falha => falha.skid || falha.tracker || falha.tipoFalha).map(falha => {\n      const partes = [];\n      if (falha.skid) partes.push(`Skid: ${falha.skid}`);\n      if (falha.tracker) partes.push(`Tracker: ${falha.tracker}`);\n      let detalhes = partes.join(' - ');\n      if (falha.tipoFalha) {\n        detalhes += ` (${falha.tipoFalha})`;\n      }\n      if (falha.previsaoInspecao) {\n        detalhes += ` - Previsão: ${falha.previsaoInspecao}`;\n      }\n      return detalhes;\n    }).join('\\n• ');\n    statusTCU = falhasDetalhadas ? `SIM\\n• ${falhasDetalhadas}` : 'SIM';\n  }\n  return `🔆 *Relatório Diário ${cluster} – ${dataFormatada}*\n👷 Equipe: ${tecnico}\n📍 Usina: ${usina}\n\n🔧 *Atividades Programadas*\n${linhasAtividades}\n\n📌 *Observações*\n${observacoes}\n\n⚡ *TCU com falha*\n${statusTCU}`;\n};\n\n// Gerar status técnico por usina\nexport const generateTechnicalStatusWhatsApp = ({\n  usina,\n  data,\n  cluster,\n  tecnico,\n  inversores,\n  strings,\n  trackers,\n  observacoesGerais\n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n\n  // Função auxiliar para gerar status de subsistema\n  const gerarStatusSubsistema = (subsistema, nome) => {\n    const status = subsistema.ok100 ? 'SIM' : 'NÃO';\n    let detalhes = '';\n    if (!subsistema.ok100 && (subsistema.motivo || subsistema.acaoPrevista)) {\n      const partes = [];\n      if (subsistema.motivo) partes.push(`Motivo: ${subsistema.motivo}`);\n      if (subsistema.acaoPrevista) partes.push(`Ação: ${subsistema.acaoPrevista}`);\n      detalhes = `\\n${partes.join('. ')}`;\n    }\n    return `🔧 *${nome}*: ${status}${detalhes}`;\n  };\n  const observacoes = observacoesGerais.trim() || '-';\n  return `📍 *${usina}* – ${dataFormatada} – ${cluster}\n👷 Técnico: ${tecnico}\n\n${gerarStatusSubsistema(inversores, 'Inversores')}\n\n${gerarStatusSubsistema(strings, 'Strings')}\n\n${gerarStatusSubsistema(trackers, 'Trackers')}\n\n📝 Observações: ${observacoes}`;\n};\n\n// Gerar status técnico consolidado por cluster\nexport const generateConsolidatedTechnicalStatusWhatsApp = (statusTecnicoArray, cluster, data) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  const blocosPorUsina = statusTecnicoArray.map(status => generateTechnicalStatusWhatsApp(status)).join('\\n\\n');\n  return `🗂️ *Status Técnico – ${cluster} – ${dataFormatada}*\n\n${blocosPorUsina}`;\n};\n\n// Função auxiliar para formatar data\nexport const formatDateForWhatsApp = date => {\n  return format(new Date(date), 'dd/MM/yyyy');\n};\n\n// Gerar relatório diário consolidado de todos os clusters\nexport const generateConsolidatedDailyReportWhatsApp = (data, clustersComRelatorios, allData, tcuPorCluster = {}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  let message = `📋 *Relatório Diário Consolidado – ${dataFormatada}*\\n\\n`;\n\n  // Ordenar clusters por nome\n  const clustersOrdenados = clustersComRelatorios.sort((a, b) => a.cluster.nome.localeCompare(b.cluster.nome));\n  clustersOrdenados.forEach((clusterData, clusterIndex) => {\n    const {\n      cluster,\n      atividades\n    } = clusterData;\n\n    // Separador entre clusters (exceto o primeiro)\n    if (clusterIndex > 0) {\n      message += '\\n' + '─'.repeat(40) + '\\n\\n';\n    }\n    message += `🔆 *${cluster.nome.toUpperCase()}*\\n`;\n\n    // Buscar todos os técnicos únicos do cluster\n    const tecnicosDoCluster = new Set();\n    atividades.forEach(atividade => {\n      tecnicosDoCluster.add(atividade.tecnicoId);\n    });\n    const nomesTecnicos = Array.from(tecnicosDoCluster).map(tecnicoId => {\n      const tecnico = allData.tecnicos.find(t => t.id === tecnicoId);\n      return (tecnico === null || tecnico === void 0 ? void 0 : tecnico.nome) || 'Técnico Desconhecido';\n    }).join(' / ');\n    message += `👷 Equipe: ${nomesTecnicos}\\n`;\n\n    // Agrupar atividades por usina\n    const atividadesPorUsina = {};\n    atividades.forEach(atividade => {\n      const usina = allData.usinas.find(u => u.id === atividade.usinaId);\n      const usinaName = (usina === null || usina === void 0 ? void 0 : usina.nome) || 'Usina Desconhecida';\n      if (!atividadesPorUsina[usinaName]) {\n        atividadesPorUsina[usinaName] = [];\n      }\n      atividadesPorUsina[usinaName].push(atividade);\n    });\n\n    // Listar atividades por usina (sem separação por técnico)\n    Object.keys(atividadesPorUsina).forEach(usinaName => {\n      message += `\\n📍 *${usinaName}*\\n`;\n\n      // Consolidar todas as atividades da usina (sem duplicatas)\n      const atividadesUnicas = [];\n      const atividadesVistas = new Set();\n      atividadesPorUsina[usinaName].forEach(atividade => {\n        const chave = `${atividade.tarefa}-${atividade.inicio}-${atividade.fim}`;\n        if (!atividadesVistas.has(chave)) {\n          atividadesVistas.add(chave);\n          atividadesUnicas.push(atividade);\n        }\n      });\n\n      // Ordenar por horário e numerar\n      atividadesUnicas.sort((a, b) => a.inicio.localeCompare(b.inicio)).forEach((atividade, index) => {\n        const inicio = atividade.inicio || '--:--';\n        const fim = atividade.fim || '--:--';\n        message += `${index + 1}) ${atividade.tarefa} – ⏰ ${inicio}/${fim}\\n`;\n      });\n    });\n  });\n\n  // Adicionar seção de TCU com falha se houver registros\n  const tcuComFalhas = Object.values(tcuPorCluster).filter(tcu => tcu.data === data && tcu.tcuComFalha.tem && tcu.tcuComFalha.falhas.length > 0);\n  if (tcuComFalhas.length > 0) {\n    message += '\\n\\n' + '─'.repeat(40) + '\\n\\n';\n    message += '⚡ *TCU COM FALHA REGISTRADAS*\\n\\n';\n    tcuComFalhas.forEach(tcuData => {\n      const cluster = allData.clusters.find(c => c.id === tcuData.clusterId);\n      message += `🔆 *${cluster === null || cluster === void 0 ? void 0 : cluster.nome.toUpperCase()}*\\n`;\n      tcuData.tcuComFalha.falhas.forEach((falha, index) => {\n        const identificacao = [];\n        if (falha.skid) identificacao.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) identificacao.push(`Tracker: ${falha.tracker}`);\n        message += `${index + 1}) ${identificacao.join(' - ')}`;\n        if (falha.tipoFalha) {\n          message += `\\n   🔧 Tipo: ${falha.tipoFalha}`;\n        }\n        if (falha.previsaoInspecao) {\n          message += `\\n   📅 Previsão: ${falha.previsaoInspecao}`;\n        }\n        message += '\\n\\n';\n      });\n    });\n  }\n  return message.trim();\n};\n\n// Função auxiliar para validar dados antes de gerar mensagem\nexport const validateDataForWhatsApp = (data, type) => {\n  const errors = [];\n  if (!data.cluster) errors.push('Cluster é obrigatório');\n  if (!data.data) errors.push('Data é obrigatória');\n  if (!data.usina) errors.push('Usina é obrigatória');\n  if (!data.tecnico) errors.push('Técnico é obrigatório');\n  if (type === 'daily' && (!data.atividades || data.atividades.length === 0)) {\n    errors.push('Pelo menos uma atividade é obrigatória');\n  }\n  if (type === 'technical' && (!data.inversores || !data.strings || !data.trackers)) {\n    errors.push('Status de todos os subsistemas é obrigatório');\n  }\n  return errors;\n};","map":{"version":3,"names":["format","generateDailyReportWhatsApp","cluster","data","tecnico","usina","atividades","tcuComFalha","observacoesGerais","dataFormatada","Date","linhasAtividades","map","atividade","index","inicio","fim","usinaInfo","usinaName","tarefa","join","observacoes","trim","statusTCU","tem","falhas","length","falhasDetalhadas","filter","falha","skid","tracker","tipoFalha","partes","push","detalhes","previsaoInspecao","generateTechnicalStatusWhatsApp","inversores","strings","trackers","gerarStatusSubsistema","subsistema","nome","status","ok100","motivo","acaoPrevista","generateConsolidatedTechnicalStatusWhatsApp","statusTecnicoArray","blocosPorUsina","formatDateForWhatsApp","date","generateConsolidatedDailyReportWhatsApp","clustersComRelatorios","allData","tcuPorCluster","message","clustersOrdenados","sort","a","b","localeCompare","forEach","clusterData","clusterIndex","repeat","toUpperCase","tecnicosDoCluster","Set","add","tecnicoId","nomesTecnicos","Array","from","tecnicos","find","t","id","atividadesPorUsina","usinas","u","usinaId","Object","keys","atividadesUnicas","atividadesVistas","chave","has","tcuComFalhas","values","tcu","tcuData","clusters","c","clusterId","identificacao","validateDataForWhatsApp","type","errors"],"sources":["/home/thiagoriva/Documents/Projects/daily-report/src/utils/whatsappGenerator.js"],"sourcesContent":["import { format } from 'date-fns';\n\n// Gerar relatório diário de atividades\nexport const generateDailyReportWhatsApp = ({ \n  cluster, \n  data, \n  tecnico, \n  usina, \n  atividades, \n  tcuComFalha, \n  observacoesGerais \n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  // Gerar linhas de atividades numeradas\n  const linhasAtividades = atividades\n    .map((atividade, index) => {\n      const inicio = atividade.inicio || '--:--';\n      const fim = atividade.fim || '--:--';\n      const usinaInfo = atividade.usinaName && usina === 'Múltiplas Usinas' ? ` (${atividade.usinaName})` : '';\n      return `${index + 1}) ${atividade.tarefa}${usinaInfo} – ⏰ ${inicio}/${fim}`;\n    })\n    .join('\\n');\n\n  // Gerar observações\n  const observacoes = observacoesGerais.trim() || '-';\n\n  // Gerar status de TCU\n  let statusTCU = 'NÃO';\n  if (tcuComFalha.tem && tcuComFalha.falhas.length > 0) {\n    const falhasDetalhadas = tcuComFalha.falhas\n      .filter(falha => falha.skid || falha.tracker || falha.tipoFalha)\n      .map(falha => {\n        const partes = [];\n        if (falha.skid) partes.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) partes.push(`Tracker: ${falha.tracker}`);\n        \n        let detalhes = partes.join(' - ');\n        \n        if (falha.tipoFalha) {\n          detalhes += ` (${falha.tipoFalha})`;\n        }\n        \n        if (falha.previsaoInspecao) {\n          detalhes += ` - Previsão: ${falha.previsaoInspecao}`;\n        }\n        \n        return detalhes;\n      })\n      .join('\\n• ');\n    \n    statusTCU = falhasDetalhadas ? `SIM\\n• ${falhasDetalhadas}` : 'SIM';\n  }\n\n  return `🔆 *Relatório Diário ${cluster} – ${dataFormatada}*\n👷 Equipe: ${tecnico}\n📍 Usina: ${usina}\n\n🔧 *Atividades Programadas*\n${linhasAtividades}\n\n📌 *Observações*\n${observacoes}\n\n⚡ *TCU com falha*\n${statusTCU}`;\n};\n\n// Gerar status técnico por usina\nexport const generateTechnicalStatusWhatsApp = ({ \n  usina, \n  data, \n  cluster, \n  tecnico, \n  inversores, \n  strings, \n  trackers, \n  observacoesGerais \n}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  // Função auxiliar para gerar status de subsistema\n  const gerarStatusSubsistema = (subsistema, nome) => {\n    const status = subsistema.ok100 ? 'SIM' : 'NÃO';\n    let detalhes = '';\n    \n    if (!subsistema.ok100 && (subsistema.motivo || subsistema.acaoPrevista)) {\n      const partes = [];\n      if (subsistema.motivo) partes.push(`Motivo: ${subsistema.motivo}`);\n      if (subsistema.acaoPrevista) partes.push(`Ação: ${subsistema.acaoPrevista}`);\n      detalhes = `\\n${partes.join('. ')}`;\n    }\n    \n    return `🔧 *${nome}*: ${status}${detalhes}`;\n  };\n\n  const observacoes = observacoesGerais.trim() || '-';\n\n  return `📍 *${usina}* – ${dataFormatada} – ${cluster}\n👷 Técnico: ${tecnico}\n\n${gerarStatusSubsistema(inversores, 'Inversores')}\n\n${gerarStatusSubsistema(strings, 'Strings')}\n\n${gerarStatusSubsistema(trackers, 'Trackers')}\n\n📝 Observações: ${observacoes}`;\n};\n\n// Gerar status técnico consolidado por cluster\nexport const generateConsolidatedTechnicalStatusWhatsApp = (statusTecnicoArray, cluster, data) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  const blocosPorUsina = statusTecnicoArray\n    .map(status => generateTechnicalStatusWhatsApp(status))\n    .join('\\n\\n');\n\n  return `🗂️ *Status Técnico – ${cluster} – ${dataFormatada}*\n\n${blocosPorUsina}`;\n};\n\n// Função auxiliar para formatar data\nexport const formatDateForWhatsApp = (date) => {\n  return format(new Date(date), 'dd/MM/yyyy');\n};\n\n// Gerar relatório diário consolidado de todos os clusters\nexport const generateConsolidatedDailyReportWhatsApp = (data, clustersComRelatorios, allData, tcuPorCluster = {}) => {\n  const dataFormatada = format(new Date(data), 'dd/MM/yyyy');\n  \n  let message = `📋 *Relatório Diário Consolidado – ${dataFormatada}*\\n\\n`;\n  \n  // Ordenar clusters por nome\n  const clustersOrdenados = clustersComRelatorios\n    .sort((a, b) => a.cluster.nome.localeCompare(b.cluster.nome));\n  \n  clustersOrdenados.forEach((clusterData, clusterIndex) => {\n    const { cluster, atividades } = clusterData;\n    \n    // Separador entre clusters (exceto o primeiro)\n    if (clusterIndex > 0) {\n      message += '\\n' + '─'.repeat(40) + '\\n\\n';\n    }\n    \n    message += `🔆 *${cluster.nome.toUpperCase()}*\\n`;\n    \n    // Buscar todos os técnicos únicos do cluster\n    const tecnicosDoCluster = new Set();\n    atividades.forEach(atividade => {\n      tecnicosDoCluster.add(atividade.tecnicoId);\n    });\n    \n    const nomesTecnicos = Array.from(tecnicosDoCluster)\n      .map(tecnicoId => {\n        const tecnico = allData.tecnicos.find(t => t.id === tecnicoId);\n        return tecnico?.nome || 'Técnico Desconhecido';\n      })\n      .join(' / ');\n    \n    message += `👷 Equipe: ${nomesTecnicos}\\n`;\n    \n    // Agrupar atividades por usina\n    const atividadesPorUsina = {};\n    atividades.forEach(atividade => {\n      const usina = allData.usinas.find(u => u.id === atividade.usinaId);\n      const usinaName = usina?.nome || 'Usina Desconhecida';\n      \n      if (!atividadesPorUsina[usinaName]) {\n        atividadesPorUsina[usinaName] = [];\n      }\n      atividadesPorUsina[usinaName].push(atividade);\n    });\n    \n    // Listar atividades por usina (sem separação por técnico)\n    Object.keys(atividadesPorUsina).forEach(usinaName => {\n      message += `\\n📍 *${usinaName}*\\n`;\n      \n      // Consolidar todas as atividades da usina (sem duplicatas)\n      const atividadesUnicas = [];\n      const atividadesVistas = new Set();\n      \n      atividadesPorUsina[usinaName].forEach(atividade => {\n        const chave = `${atividade.tarefa}-${atividade.inicio}-${atividade.fim}`;\n        if (!atividadesVistas.has(chave)) {\n          atividadesVistas.add(chave);\n          atividadesUnicas.push(atividade);\n        }\n      });\n      \n      // Ordenar por horário e numerar\n      atividadesUnicas\n        .sort((a, b) => a.inicio.localeCompare(b.inicio))\n        .forEach((atividade, index) => {\n          const inicio = atividade.inicio || '--:--';\n          const fim = atividade.fim || '--:--';\n          message += `${index + 1}) ${atividade.tarefa} – ⏰ ${inicio}/${fim}\\n`;\n        });\n    });\n  });\n  \n  // Adicionar seção de TCU com falha se houver registros\n  const tcuComFalhas = Object.values(tcuPorCluster).filter(tcu => \n    tcu.data === data && tcu.tcuComFalha.tem && tcu.tcuComFalha.falhas.length > 0\n  );\n  \n  if (tcuComFalhas.length > 0) {\n    message += '\\n\\n' + '─'.repeat(40) + '\\n\\n';\n    message += '⚡ *TCU COM FALHA REGISTRADAS*\\n\\n';\n    \n    tcuComFalhas.forEach(tcuData => {\n      const cluster = allData.clusters.find(c => c.id === tcuData.clusterId);\n      message += `🔆 *${cluster?.nome.toUpperCase()}*\\n`;\n      \n      tcuData.tcuComFalha.falhas.forEach((falha, index) => {\n        const identificacao = [];\n        if (falha.skid) identificacao.push(`Skid: ${falha.skid}`);\n        if (falha.tracker) identificacao.push(`Tracker: ${falha.tracker}`);\n        \n        message += `${index + 1}) ${identificacao.join(' - ')}`;\n        \n        if (falha.tipoFalha) {\n          message += `\\n   🔧 Tipo: ${falha.tipoFalha}`;\n        }\n        \n        if (falha.previsaoInspecao) {\n          message += `\\n   📅 Previsão: ${falha.previsaoInspecao}`;\n        }\n        \n        message += '\\n\\n';\n      });\n    });\n  }\n  \n  return message.trim();\n};\n\n// Função auxiliar para validar dados antes de gerar mensagem\nexport const validateDataForWhatsApp = (data, type) => {\n  const errors = [];\n  \n  if (!data.cluster) errors.push('Cluster é obrigatório');\n  if (!data.data) errors.push('Data é obrigatória');\n  if (!data.usina) errors.push('Usina é obrigatória');\n  if (!data.tecnico) errors.push('Técnico é obrigatório');\n  \n  if (type === 'daily' && (!data.atividades || data.atividades.length === 0)) {\n    errors.push('Pelo menos uma atividade é obrigatória');\n  }\n  \n  if (type === 'technical' && (!data.inversores || !data.strings || !data.trackers)) {\n    errors.push('Status de todos os subsistemas é obrigatório');\n  }\n  \n  return errors;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}